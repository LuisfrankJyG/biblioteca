<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BiblioShey - Tu Biblioteca Digital</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <script src="js/funciones.js" defer></script>
</head>
<body>
  <header class="header">
    <div class="nav-container">
      <a href="#inicio" class="logo" aria-label="Inicio - BiblioShey"><i class="fas fa-book-open" aria-hidden="true"></i><span class="sr-only">BiblioShey</span></a>
      <nav aria-label="Menú principal">
        <ul class="nav-menu" id="navMenu">
          <li><a href="#inicio">Inicio</a></li>
          <li><a href="#libros">Libros</a></li>
          <li><a href="#testimonios">Testimonios</a></li>
        </ul>
        <button class="mobile-menu" id="mobileMenu" aria-controls="navMenu" aria-expanded="false" aria-label="Abrir menú">
          <i class="fas fa-bars" aria-hidden="true"></i>
        </button>
      </nav>
      <div class="header-right">
        <button id="headerCartBtn" class="icon-btn cart-btn" aria-label="Ver carrito">
          <i class="fas fa-shopping-cart" aria-hidden="true"></i>
          <span id="carritoContMenu" class="cart-count" aria-hidden="false">0</span>
        </button>
      </div>
    </div>
  </header>
  <main>
  <div class="announcement">¡DONDE HAY LIBROS, HAY MAGIA! SUMÉRGETE EN LA MAGIA DE LA LECTURA</div>
    <section id="inicio" class="hero">
      <div class="hero-content">
        <h1>Bienvenido a BiblioShey</h1>
        <p>Tu biblioteca digital donde cada libro es una nueva aventura</p>
        <div class="search-container">
          <input type="text" class="search-box" placeholder="Buscar libros..." id="searchInput">
          <button class="search-btn" onclick="searchBooks()"><i class="fas fa-search"></i></button>
        </div>
      </div>
    </section>
  <section id="libros" class="featured-books">
      <div class="container">
        <h2 class="section-title"><i class="fas fa-star"></i> Libros Destacados</h2>
        <div style="text-align:center; margin-bottom:20px;">
          <button class="book-btn" onclick="window.AppState.currentCategory='all';window.loadBooks(true)">Todos</button>
          <button class="book-btn" style="background:linear-gradient(135deg,#FFD6A5,#FFB347);color:#3C2F2F;" onclick="window.AppState.currentCategory='ficcion';window.loadBooks(true)">Ficción</button>
          <button class="book-btn" style="background:linear-gradient(135deg,#FFB347,#FFD6A5);color:#3C2F2F;" onclick="window.AppState.currentCategory='juvenil';window.loadBooks(true)">Juvenil</button>
          <button class="book-btn" style="background:linear-gradient(135deg,#FFD6A5,#FF6B6B);color:#3C2F2F;" onclick="window.AppState.currentCategory='biografia';window.loadBooks(true)">Biografía</button>
          <button class="book-btn" style="background:linear-gradient(135deg,#FFB347,#FFD6A5);color:#3C2F2F;" onclick="window.AppState.currentCategory='ciencia';window.loadBooks(true)">Ciencia</button>
          <button class="book-btn" style="background:linear-gradient(135deg,#FF6B6B,#FFD6A5);color:#3C2F2F;" onclick="window.AppState.currentCategory='arte';window.loadBooks(true)">Arte</button>
        </div>
  <div class="loading" id="loading" aria-live="polite"><p>Cargando libros...</p></div>
        <div class="books-grid" id="booksGrid"></div>
        <!-- Inline cart removed: use header cart modal instead -->
        <!-- Modal del carrito (se usa para mostrar el carrito desde el header) -->
        <div id="cartModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="cartModalTitle" tabindex="-1">
          <div class="modal-content cart-modal-content">
            <div class="cart-modal-header">
              <h2 id="cartModalTitle">
                <i class="fas fa-shopping-cart"></i>
                Tu Carrito
                <span id="cartItemCount" class="cart-count-badge">0</span>
              </h2>
              <button class="close-modal" aria-label="Cerrar carrito">
                <i class="fas fa-times"></i>
              </button>
            </div>
            
            <div class="cart-modal-body">
              <div id="cartEmptyState" class="cart-empty-state" style="display: none;">
                <i class="fas fa-shopping-cart"></i>
                <h3>Tu carrito está vacío</h3>
                <p>¡Explora nuestra biblioteca y añade algunos libros!</p>
                <button class="book-btn primary" onclick="closeCartModal()">Explorar Libros</button>
              </div>
              
              <div id="cartContent" class="cart-content">
                <ul id="cartModalList" class="cart-list"></ul>
                
                <div class="cart-summary">
                  <div class="cart-total">
                    <span class="total-label">Total de libros:</span>
                    <span id="cartTotalItems" class="total-value">0</span>
                  </div>
                  <div class="cart-total">
                    <span class="total-label">Precio total:</span>
                    <span id="cartTotalPrice" class="total-value">$0.00</span>
                  </div>
                </div>
                
                <div class="cart-actions">
                  <button class="book-btn secondary" id="cartEmptyBtn">
                    <i class="fas fa-trash"></i>
                    Vaciar Carrito
                  </button>
                  <button class="book-btn primary" id="cartCheckoutBtn">
                    <i class="fas fa-credit-card"></i>
                    Proceder al Pago
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="testimonios" class="testimonios">
      <div class="container">
        <h2 class="section-title"><i class="fas fa-comments"></i> Testimonios</h2>
        <div id="testimonialsCarousel" class="testimonials-carousel" aria-roledescription="carousel">
          <button class="carousel-btn prev" aria-label="Anterior testimonio">‹</button>
          <div class="carousel-viewport">
            <div class="carousel-track">
              <article class="testimonial-slide" role="group" aria-roledescription="slide" aria-label="Testimonio 1 de 8">
                <div class="testimonial-card">
                  <div class="testimonial-quote">“BiblioShey me ayudó a encontrar libros increíbles para mis estudios. ¡Recomendado!”</div>
                  <div class="testimonial-meta">
                    <img src="img/7.jpg" alt="Ana Torres" class="testimonial-avatar" loading="lazy" width="64" height="64">
                    <div>
                      <strong class="testimonial-name">Ana Torres</strong>
                      <div class="testimonial-role">Estudiante</div>
                    </div>
                  </div>
                </div>
              </article>
              <article class="testimonial-slide" role="group" aria-roledescription="slide" aria-label="Testimonio 2 de 8">
                <div class="testimonial-card">
                  <div class="testimonial-quote">“La variedad y facilidad de uso hacen de esta biblioteca digital mi favorita.”</div>
                  <div class="testimonial-meta">
                    <img src="img/8.png" alt="Luis Martínez" class="testimonial-avatar" loading="lazy" width="64" height="64">
                    <div>
                      <strong class="testimonial-name">Luis Martínez</strong>
                      <div class="testimonial-role">Profesor</div>
                    </div>
                  </div>
                </div>
              </article>
              <article class="testimonial-slide" role="group" aria-roledescription="slide" aria-label="Testimonio 3 de 8">
                <div class="testimonial-card">
                  <div class="testimonial-quote">"Interfaz limpia, libros organizados y recomendaciones excelentes. ¡Me encanta!"</div>
                  <div class="testimonial-meta">
                    <img src="img/6.jpg" alt="María Gómez" class="testimonial-avatar" loading="lazy" width="64" height="64">
                    <div>
                      <strong class="testimonial-name">María Gómez</strong>
                      <div class="testimonial-role">Lectora</div>
                    </div>
                  </div>
                </div>
              </article>
              <article class="testimonial-slide" role="group" aria-roledescription="slide" aria-label="Testimonio 4 de 8">
                <div class="testimonial-card">
                  <div class="testimonial-quote">"La variedad de géneros es impresionante. He encontrado joyas literarias que no conocía."</div>
                  <div class="testimonial-meta">
                    <img src="img/1.jpg" alt="Carlos Rodríguez" class="testimonial-avatar" loading="lazy" width="64" height="64">
                    <div>
                      <strong class="testimonial-name">Carlos Rodríguez</strong>
                      <div class="testimonial-role">Escritor</div>
                    </div>
                  </div>
                </div>
              </article>
              <article class="testimonial-slide" role="group" aria-roledescription="slide" aria-label="Testimonio 5 de 8">
                <div class="testimonial-card">
                  <div class="testimonial-quote">"El sistema de favoritos y carrito hace que sea muy fácil organizar mis lecturas."</div>
                  <div class="testimonial-meta">
                    <img src="img/2.jpg" alt="Isabella Fernández" class="testimonial-avatar" loading="lazy" width="64" height="64">
                    <div>
                      <strong class="testimonial-name">Isabella Fernández</strong>
                      <div class="testimonial-role">Estudiante</div>
                    </div>
                  </div>
                </div>
              </article>
              <article class="testimonial-slide" role="group" aria-roledescription="slide" aria-label="Testimonio 6 de 8">
                <div class="testimonial-card">
                  <div class="testimonial-quote">"Los precios son muy accesibles y la calidad de los libros es excelente."</div>
                  <div class="testimonial-meta">
                    <img src="img/3.png" alt="Roberto Silva" class="testimonial-avatar" loading="lazy" width="64" height="64">
                    <div>
                      <strong class="testimonial-name">Roberto Silva</strong>
                      <div class="testimonial-role">Profesor</div>
                    </div>
                  </div>
                </div>
              </article>
              <article class="testimonial-slide" role="group" aria-roledescription="slide" aria-label="Testimonio 7 de 8">
                <div class="testimonial-card">
                  <div class="testimonial-quote">"La experiencia de usuario es fantástica. Navegar por la biblioteca es un placer."</div>
                  <div class="testimonial-meta">
                    <img src="img/4.png" alt="Elena Vargas" class="testimonial-avatar" loading="lazy" width="64" height="64">
                    <div>
                      <strong class="testimonial-name">Elena Vargas</strong>
                      <div class="testimonial-role">Bibliotecaria</div>
                    </div>
                  </div>
                </div>
              </article>
              <article class="testimonial-slide" role="group" aria-roledescription="slide" aria-label="Testimonio 8 de 8">
                <div class="testimonial-card">
                  <div class="testimonial-quote">"¡Increíble! He comprado más de 20 libros y todos han superado mis expectativas."</div>
                  <div class="testimonial-meta">
                    <img src="img/5.jpg" alt="Miguel Torres" class="testimonial-avatar" loading="lazy" width="64" height="64">
                    <div>
                      <strong class="testimonial-name">Miguel Torres</strong>
                      <div class="testimonial-role">Empresario</div>
                    </div>
                  </div>
                </div>
              </article>
            </div>
          </div>
          <button class="carousel-btn next" aria-label="Siguiente testimonio">›</button>
          <div class="carousel-indicators" role="tablist" aria-label="Indicadores de testimonios"></div>
        </div>
      </div>
    </section>
    <!-- WhatsApp floating button -->
    <div id="whatsapp-float" class="whatsapp-float" aria-label="Contactar por WhatsApp">
      <div class="whatsapp-tooltip">
        <div class="whatsapp-info">
          <h4>Desarrollado por</h4>
          <p>Sheynner Zavala</p>
          <p><strong>Email</strong><br>zavalasheynner@gmail.com</p>
          <p><strong>Teléfono</strong><br>+51 978 110 873</p>
        </div>
      </div>
      <button id="whatsappBtn" class="whatsapp-btn" data-wa="51978110873" aria-label="Abrir WhatsApp">
        <i class="fab fa-whatsapp"></i>
      </button>
    </div>
  </main>
  <footer class="footer"><div class="container"><p>&copy; 2025 BiblioShey - Desarrollado por Sheynner Zavala. Todos los derechos reservados.</p></div></footer>
  <div id="bookModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
    <div class="modal-content book-modal-content">
      <div class="book-modal-header">
        <h2 class="modal-title" id="modalTitle"></h2>
        <button class="close-modal" tabindex="0" aria-label="Cerrar modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="book-modal-body">
        <div class="book-modal-left">
          <div class="book-cover-container">
            <img class="modal-cover" src="" alt="Portada del libro">
            <div class="book-badges">
              <span class="book-badge rating-badge" id="ratingBadge">
                <i class="fas fa-star"></i>
                <span id="ratingValue">0</span>
              </span>
              <span class="book-badge downloads-badge" id="downloadsBadge">
                <i class="fas fa-download"></i>
                <span id="downloadsValue">0</span>
              </span>
            </div>
          </div>
        </div>
        
        <div class="book-modal-right">
          <div class="book-info">
            <p class="modal-author" id="modalAuthor"></p>
            <div class="book-category" id="bookCategory"></div>
            <div class="book-price-display" id="bookPriceDisplay"></div>
            <div class="book-stats">
              <div class="stat-item">
                <i class="fas fa-star"></i>
                <span>Calificación</span>
                <div class="modal-rating" id="modalRating"></div>
              </div>
              <div class="stat-item">
                <i class="fas fa-download"></i>
                <span>Descargas</span>
                <span class="modal-downloads" id="modalDownloads"></span>
              </div>
            </div>
          </div>
          
          <div class="book-description" id="bookDescription">
            <h3>Descripción</h3>
            <div class="description-content" id="descriptionContent">
              <p>Cargando descripción...</p>
            </div>
          </div>
          
          <div class="book-actions">
            <button class="book-action-btn primary" id="readBtn">
              <i class="fas fa-book-open"></i>
              <span>Leer Ahora</span>
            </button>
            <button class="book-action-btn secondary" id="downloadBtn">
              <i class="fas fa-download"></i>
              <span>Descargar</span>
            </button>
            <button class="book-action-btn favorite" id="favoriteBtn">
              <i class="far fa-heart"></i>
              <span>Favorito</span>
            </button>
            <button class="book-action-btn cart" id="addToCartBtn">
              <i class="fas fa-cart-plus"></i>
              <span>Añadir al Carrito</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="notification-container" aria-live="polite" aria-atomic="true"></div>
  <button id="back-to-top" class="back-to-top" aria-label="Volver arriba">↑</button>
  </body>
  </html>